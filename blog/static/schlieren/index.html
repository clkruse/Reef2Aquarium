
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Visualizing Density Differences</title>
    <meta name="description" content="">

    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="shortcut icon" href="../favicon.ico">

    <link rel="stylesheet" type="text/css" href="../assets/css/screen.css?v=0b79a0a9f9">
    <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic%7COpen+Sans:700,400">
    <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.5.0/styles/tomorrow.min.css">
    <link rel="canonical" href="http://localhost:2368/schlieren/">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <link rel="amphtml" href="http://localhost:2368/schlieren/amp/">
    
    <meta property="og:site_name" content="Projects">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Visualizing Density Differences">
    <meta property="og:description" content="For background, I've had an interest in Schlieren photography for a while. Wikipedia can probably explain better than I can, but the fundamental premise is Snell's law--that light will bend when traveling through substances of different density. If you can set up a system to measure how the light bends,">
    <meta property="og:url" content="http://localhost:2368/schlieren/">
    <meta property="article:published_time" content="2016-10-16T22:40:19.000Z">
    <meta property="article:modified_time" content="2016-10-16T23:16:31.000Z">
    <meta property="article:tag" content="Computational Photography">
    
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Visualizing Density Differences">
    <meta name="twitter:description" content="For background, I've had an interest in Schlieren photography for a while. Wikipedia can probably explain better than I can, but the fundamental premise is Snell's law--that light will bend when traveling through substances of different density. If you can set up a system to measure how the light bends,">
    <meta name="twitter:url" content="http://localhost:2368/schlieren/">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:data1" content="Caleb Kruse">
    <meta name="twitter:label2" content="Filed under">
    <meta name="twitter:data2" content="Computational Photography">
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "Projects",
        "logo": "http://localhost:2368/ghost/img/ghosticon.jpg"
    },
    "author": {
        "@type": "Person",
        "name": "Caleb Kruse",
        "url": "http://localhost:2368/author/caleb/",
        "sameAs": []
    },
    "headline": "Visualizing Density Differences",
    "url": "http://localhost:2368/schlieren/",
    "datePublished": "2016-10-16T22:40:19.000Z",
    "dateModified": "2016-10-16T23:16:31.000Z",
    "keywords": "Computational Photography",
    "description": "For background, I&#x27;ve had an interest in Schlieren photography for a while. Wikipedia can probably explain better than I can, but the fundamental premise is Snell&#x27;s law--that light will bend when traveling through substances of different density. If you can set up a system to measure how the light bends,",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://localhost:2368"
    }
}
    </script>

    <script type="text/javascript" src="../shared/ghost-url.js?v=0b79a0a9f9"></script>
<script type="text/javascript">
ghost.init({
	clientId: "ghost-frontend",
	clientSecret: "f6e4045a44fd"
});
</script>
    <meta name="generator" content="Ghost 0.11">
    <link rel="alternate" type="application/rss+xml" title="Projects" href="http://localhost:2368/rss/">
</head>
<body class="post-template tag-computational-photography nav-closed">

    <div class="nav">
    <div class="nav-title-menu">
        <h3 class="nav-title">Menu</h3>
        <a href="index.html#" class="nav-close">
            <span class="hidden">Close</span>
        </a>
    </div>
    <ul>
            <li class="nav-home" role="presentation"><a href="http://localhost:2368/">Home</a></li>
        <li class="nav-home nav-current nav-subscribe" role="presentation">
                <a href="http://localhost:2368/rss/">Subscribe</a>
        </li>
    </ul>
</div>
<span class="nav-cover"></span>


    <div class="site-wrapper">

        


<header class="main-header post-head no-cover">
    <nav class="main-nav  clearfix">
        <a class="home-button icon-arrow-left" href="../"><span class="word">Home</span></a>
            <a class="menu-button icon-menu" href="index.html#"><span class="word">Menu</span></a>
    </nav>
    <div class="post-bg-adjust"></div>
        <div class="post-adjust">
            <div class="post-data">
                <header class="post-header">
                    <h2 class="post-title">Visualizing Density Differences</h2>
                </header>
                <footer class="post-meta">
                    <a href="../author/caleb/">Caleb Kruse</a> |
                    <time class="post-date" datetime="2016-10-16">16 October 2016</time>
                    <div class="tags-content">
                        <a href="../tag/computational-photography/">Computational Photography</a>
                    </div>
                </footer>
            </div>
        </div>
</header>

<main class="content" role="main">
    <article class="post tag-computational-photography">
<!--        <ul class="rrssb-buttons">
            <li class="rrssb-facebook">
                <a href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:2368/schlieren/" class="popup">
                    <span class="rrssb-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 29 29"><path d="M26.4 0H2.6C1.714 0 0 1.715 0 2.6v23.8c0 .884 1.715 2.6 2.6 2.6h12.393V17.988h-3.996v-3.98h3.997v-3.062c0-3.746 2.835-5.97 6.177-5.97 1.6 0 2.444.173 2.845.226v3.792H21.18c-1.817 0-2.156.9-2.156 2.168v2.847h5.045l-.66 3.978h-4.386V29H26.4c.884 0 2.6-1.716 2.6-2.6V2.6c0-.885-1.716-2.6-2.6-2.6z"/></svg>
                    </span>
                    <span class="rrssb-text">facebook</span>
                </a>
            </li>
            <li class="rrssb-twitter">
                <!-- Replace href with your Meta and URL information  -->
<!--                <a href="https://twitter.com/intent/tweet?text=Visualizing%20Density%20Differences via @GersonLazaroC&amp;url=http://localhost:2368/schlieren/" class="popup">
                    <span class="rrssb-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><path d="M24.253 8.756C24.69 17.08 18.297 24.182 9.97 24.62a15.093 15.093 0 0 1-8.86-2.32c2.702.18 5.375-.648 7.507-2.32a5.417 5.417 0 0 1-4.49-3.64c.802.13 1.62.077 2.4-.154a5.416 5.416 0 0 1-4.412-5.11 5.43 5.43 0 0 0 2.168.387A5.416 5.416 0 0 1 2.89 4.498a15.09 15.09 0 0 0 10.913 5.573 5.185 5.185 0 0 1 3.434-6.48 5.18 5.18 0 0 1 5.546 1.682 9.076 9.076 0 0 0 3.33-1.317 5.038 5.038 0 0 1-2.4 2.942 9.068 9.068 0 0 0 3.02-.85 5.05 5.05 0 0 1-2.48 2.71z"/></svg>
                    </span>
                    <span class="rrssb-text">twitter</span>
                </a>
            </li>
            <li class="rrssb-googleplus">
                <!-- Replace href with your meta and URL information.  -->
<!--                <a href="https://plus.google.com/share?url=http://localhost:2368/schlieren/" class="popup">
                    <span class="rrssb-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M21 8.29h-1.95v2.6h-2.6v1.82h2.6v2.6H21v-2.6h2.6v-1.885H21V8.29zM7.614 10.306v2.925h3.9c-.26 1.69-1.755 2.925-3.9 2.925-2.34 0-4.29-2.016-4.29-4.354s1.885-4.353 4.29-4.353c1.104 0 2.014.326 2.794 1.105l2.08-2.08c-1.3-1.17-2.924-1.883-4.874-1.883C3.65 4.586.4 7.835.4 11.8s3.25 7.212 7.214 7.212c4.224 0 6.953-2.988 6.953-7.082 0-.52-.065-1.104-.13-1.624H7.614z"/></svg>            </span>
                    <span class="rrssb-text">google+</span>
                </a>
            </li>
            <li class="rrssb-linkedin">
                <!-- Replace href with your meta and URL information -->
<!--                <a href="http://www.linkedin.com/shareArticle?mini=true&amp;url=http://localhost:2368/schlieren/&title=Visualizing%20Density%20Differences" class="popup">
                    <span class="rrssb-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><path d="M25.424 15.887v8.447h-4.896v-7.882c0-1.98-.71-3.33-2.48-3.33-1.354 0-2.158.91-2.514 1.802-.13.315-.162.753-.162 1.194v8.216h-4.9s.067-13.35 0-14.73h4.9v2.087c-.01.017-.023.033-.033.05h.032v-.05c.65-1.002 1.812-2.435 4.414-2.435 3.222 0 5.638 2.106 5.638 6.632zM5.348 2.5c-1.676 0-2.772 1.093-2.772 2.54 0 1.42 1.066 2.538 2.717 2.546h.032c1.71 0 2.77-1.132 2.77-2.546C8.056 3.593 7.02 2.5 5.344 2.5h.005zm-2.48 21.834h4.896V9.604H2.867v14.73z"/></svg>
                    </span>
                    <span class="rrssb-text">linkedin</span>
                </a>
            </li>
            <li class="rrssb-email">
                <a href="/subscribe/">
                    <span class="rrssb-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28"><path d="M20.11 26.147c-2.335 1.05-4.36 1.4-7.124 1.4C6.524 27.548.84 22.916.84 15.284.84 7.343 6.602.45 15.4.45c6.854 0 11.8 4.7 11.8 11.252 0 5.684-3.193 9.265-7.398 9.3-1.83 0-3.153-.934-3.347-2.997h-.077c-1.208 1.986-2.96 2.997-5.023 2.997-2.532 0-4.36-1.868-4.36-5.062 0-4.75 3.503-9.07 9.11-9.07 1.713 0 3.7.4 4.6.972l-1.17 7.203c-.387 2.298-.115 3.3 1 3.4 1.674 0 3.774-2.102 3.774-6.58 0-5.06-3.27-8.994-9.304-8.994C9.05 2.87 3.83 7.545 3.83 14.97c0 6.5 4.2 10.2 10 10.202 1.987 0 4.09-.43 5.647-1.245l.634 2.22zM16.647 10.1c-.31-.078-.7-.155-1.207-.155-2.572 0-4.596 2.53-4.596 5.53 0 1.5.7 2.4 1.9 2.4 1.44 0 2.96-1.83 3.31-4.088l.592-3.72z"/></svg>
                    </span>
                    <span class="rrssb-text">Subscribe</span>
                </a>
            </li>
        </ul> -->
        <section class="post-content">
            <p>For background, I've had an interest in Schlieren photography for a while. Wikipedia can probably explain better than I can, but the fundamental premise is Snell's law--that light will bend when traveling through substances of different density. If you can set up a system to measure how the light bends, then you can infer pressure changes. Standard Schlieren imaging is clever, but requires parabolic mirrors and very precise imaging techniques. <br>
There is a spinoff of this concept called background oriented Schlieren imaging, and it uses same fundamental principle in a whole new way. This is technique is what inspired me. Here's how it works: <br>
<img src="../content/images/2016/10/Schlieren-3.jpg" alt=""></p>

<p>I first take an image of a textured background with no background disturbance. Without moving the camera or background, I take another picture with a density/pressure change (in this case a lighter). Because the light traveling from the background to the sensor is bent in the areas with a pressure change, it will appear that the background has shifted/warped in those areas. <br>
I'm still searching for the best method of characterizing how the background moves between the reference and bent frames. Probably will use something like a Lucas-Kanade implementation of optical flow in the future, but currently using some janky matlab plugins. In this step, I build an array of how each pixel (or block of pixels) moved between frames. Now, instead of an RGB triplet at each pixel position, I have a magnitude and direction. <br>
Since it's confusing to look at an image of arrow vectors, I map these vectors back to a colorspace using a cartesian colorspace (looks something like this): <br>
So there you have it. Didn't mean to write a treatise, but figured it was an interesting opportunity to clarify in my own mind how it was all running as well. <br>
As an addition to this already lengthy email, you might like something else that I worked on in the past along the lines of mapping invisible data in an image to a comprehensible space. I've been relatively obsessed with visualizing polarization for a while now. I love the idea that our visual system is based on the single channel of light wavelength (also position of course). However, there are two additional channels of information that are availlable--linear, and circular polarization. In fact, many species of squid can actually distinguish between polarizations of light, adding new dimensions to their perception of color. <br>
Having a linear polarizer for my camera lens, I took a picture of the same scene with the polarizer rotated to 90°, 45°, and 0°. I converted each image to grayscale, and then created a new color image where I assigned each of these three grayscale images to a channel in an RGB space. By doing this, I could map differences in brightness from various polarizations, to differences in color. See below for my rough thinking on how it would work.</p>

<p>In practice, it worked pretty well! Here's an example image. Anywhere that is in color is an part of the scene where the light was polarized. Any region in black and white had random polarization.</p>
        </section>
        <ul class="rrssb-buttons">
            <li class="rrssb-facebook">
                <a href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:2368/schlieren/" class="popup">
                    <span class="rrssb-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 29 29"><path d="M26.4 0H2.6C1.714 0 0 1.715 0 2.6v23.8c0 .884 1.715 2.6 2.6 2.6h12.393V17.988h-3.996v-3.98h3.997v-3.062c0-3.746 2.835-5.97 6.177-5.97 1.6 0 2.444.173 2.845.226v3.792H21.18c-1.817 0-2.156.9-2.156 2.168v2.847h5.045l-.66 3.978h-4.386V29H26.4c.884 0 2.6-1.716 2.6-2.6V2.6c0-.885-1.716-2.6-2.6-2.6z"></path></svg>
                    </span>
                    <span class="rrssb-text">facebook</span>
                </a>
            </li>
            <li class="rrssb-twitter">
                <!-- Replace href with your Meta and URL information  -->
                <a href="https://twitter.com/intent/tweet?text=Visualizing%20Density%20Differences%20via%20@GersonLazaroC&amp;url=http://localhost:2368/schlieren/" class="popup">
                    <span class="rrssb-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 28 28"><path d="M24.253 8.756C24.69 17.08 18.297 24.182 9.97 24.62a15.093 15.093 0 0 1-8.86-2.32c2.702.18 5.375-.648 7.507-2.32a5.417 5.417 0 0 1-4.49-3.64c.802.13 1.62.077 2.4-.154a5.416 5.416 0 0 1-4.412-5.11 5.43 5.43 0 0 0 2.168.387A5.416 5.416 0 0 1 2.89 4.498a15.09 15.09 0 0 0 10.913 5.573 5.185 5.185 0 0 1 3.434-6.48 5.18 5.18 0 0 1 5.546 1.682 9.076 9.076 0 0 0 3.33-1.317 5.038 5.038 0 0 1-2.4 2.942 9.068 9.068 0 0 0 3.02-.85 5.05 5.05 0 0 1-2.48 2.71z"></path></svg>
                    </span>
                    <span class="rrssb-text">twitter</span>
                </a>
            </li>
<!--            <li class="rrssb-googleplus">
                <!-- Replace href with your meta and URL information.  -->
<!--               <a href="https://plus.google.com/share?url=http://localhost:2368/schlieren/" class="popup">
                    <span class="rrssb-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M21 8.29h-1.95v2.6h-2.6v1.82h2.6v2.6H21v-2.6h2.6v-1.885H21V8.29zM7.614 10.306v2.925h3.9c-.26 1.69-1.755 2.925-3.9 2.925-2.34 0-4.29-2.016-4.29-4.354s1.885-4.353 4.29-4.353c1.104 0 2.014.326 2.794 1.105l2.08-2.08c-1.3-1.17-2.924-1.883-4.874-1.883C3.65 4.586.4 7.835.4 11.8s3.25 7.212 7.214 7.212c4.224 0 6.953-2.988 6.953-7.082 0-.52-.065-1.104-.13-1.624H7.614z"/></svg>            </span>
                    <span class="rrssb-text">google+</span>
                </a>
            </li>
            <li class="rrssb-linkedin">
                <!-- Replace href with your meta and URL information -->
<!--                <a href="http://www.linkedin.com/shareArticle?mini=true&amp;url=http://localhost:2368/schlieren/&title=Visualizing%20Density%20Differences" class="popup">
                    <span class="rrssb-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><path d="M25.424 15.887v8.447h-4.896v-7.882c0-1.98-.71-3.33-2.48-3.33-1.354 0-2.158.91-2.514 1.802-.13.315-.162.753-.162 1.194v8.216h-4.9s.067-13.35 0-14.73h4.9v2.087c-.01.017-.023.033-.033.05h.032v-.05c.65-1.002 1.812-2.435 4.414-2.435 3.222 0 5.638 2.106 5.638 6.632zM5.348 2.5c-1.676 0-2.772 1.093-2.772 2.54 0 1.42 1.066 2.538 2.717 2.546h.032c1.71 0 2.77-1.132 2.77-2.546C8.056 3.593 7.02 2.5 5.344 2.5h.005zm-2.48 21.834h4.896V9.604H2.867v14.73z"/></svg>
                    </span>
                    <span class="rrssb-text">linkedin</span>
                </a>
            </li>
            <li class="rrssb-email">
                <a href="/subscribe/">
                    <span class="rrssb-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28"><path d="M20.11 26.147c-2.335 1.05-4.36 1.4-7.124 1.4C6.524 27.548.84 22.916.84 15.284.84 7.343 6.602.45 15.4.45c6.854 0 11.8 4.7 11.8 11.252 0 5.684-3.193 9.265-7.398 9.3-1.83 0-3.153-.934-3.347-2.997h-.077c-1.208 1.986-2.96 2.997-5.023 2.997-2.532 0-4.36-1.868-4.36-5.062 0-4.75 3.503-9.07 9.11-9.07 1.713 0 3.7.4 4.6.972l-1.17 7.203c-.387 2.298-.115 3.3 1 3.4 1.674 0 3.774-2.102 3.774-6.58 0-5.06-3.27-8.994-9.304-8.994C9.05 2.87 3.83 7.545 3.83 14.97c0 6.5 4.2 10.2 10 10.202 1.987 0 4.09-.43 5.647-1.245l.634 2.22zM16.647 10.1c-.31-.078-.7-.155-1.207-.155-2.572 0-4.596 2.53-4.596 5.53 0 1.5.7 2.4 1.9 2.4 1.44 0 2.96-1.83 3.31-4.088l.592-3.72z"/></svg>
                    </span>
                    <span class="rrssb-text">Subscribe</span>
                </a>
            </li> -->
        </ul>

        <footer class="post-footer">



            <section class="author">
                <h4><a href="../author/caleb/">Caleb Kruse</a></h4>

                    <p>Read <a href="../author/caleb/">more posts</a> by this author.</p>
                <div class="author-meta">
                    
                    
                </div>
            </section>

            <div id="disqus_thread"></div>
            <script type="text/javascript">
                var disqus_shortname = 'calebkruse-com'; // required: replace example with your forum shortname
                var disqus_identifier = '';

                /* * * DON'T EDIT BELOW THIS LINE * * */
                (function() {
                    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                })();
            </script>
            <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
            <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

        </footer>

    </article>
</main>

<aside class="read-next">
</aside>



        <footer class="site-footer clearfix">
            <section class="copyright">
                <a href="http://localhost:2368">Projects</a> © 2016 Design by <a href="https://github.com/GersonLazaro/covalent">Gerson Lázaro</a>
            </section>
        </footer>

    </div>

    <script type="text/javascript" src="https://code.jquery.com/jquery-1.12.0.min.js"></script>
    
    <script type="text/javascript" src="../assets/js/jquery.fitvids.js?v=0b79a0a9f9"></script>
    <script type="text/javascript" src="../assets/js/index.js?v=0b79a0a9f9"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.5.0/highlight.min.js"></script>
    <script type="text/javascript" src="../assets/js/rrssb.min.js?v=0b79a0a9f9"></script>
    <script>
        hljs.initHighlightingOnLoad();
    </script>

</body>
